# Web Project Part C Group 10 - Healthy Teeth

###  הסבר קצר של הרעיון:
״ האתר שלנו עוסק בקביעת תורים למרפאת שיניים פרטית הנקראת Healthy Teeth ״
<br/>
המטרה המרכזית הינה הצגת פרטי תורים פנויים להרשמה, אפשרות הרשמה לתור חדש, צפייה בהיסטורית התורים שנקבעו ואפשרות ביטול תורים עתידיים שנקבעו על ידי המשתמש.
<br/>
על המשתמש להירשם ולהתחבר למערכת על מנת לבצע את הפעולות הנ״ל.
<br/>

### סדר פעולות באתר:
1. במידה ואין למשתמש יוזר קיים במערכת, על המשתמש להירשם למערכת בעמוד sign up
2. על המשתמש להתחבר למערכת בעמוד sign in
3. לאחר התחברות מוצלחת לאתר, המשתמש יועבר אוטומטית לעמוד הרשמה לתור חדש, ויחשף בפניו גם תפריט פעולות הכולל - הרשמה לתור חדש, צפייה בהיסטורית התורים שלו, התנתקות מהמערכת
<br/>
3.1 בחירה בהרשמה לתור חדש:
<br/>
המשתמש יזין את סוג הטיפול הרצוי ותאריך שבו מעוניין לקבוע את התור וילחץ על הכפתור לחיפוש
<br/>
3.1.1 המשתמש יבחר מתוך טבלה נגללת של תורים פנויים להרשמה את העובד והשעה שהוא מעדיף לקביעת התור.
<br/>
לאחר בחירת התור הרצוי המשתמש יועבר אוטומטית למסך היסטורית התורים שלו. 
<br/>
3.2 בחירה בהיסטורית התורים:
<br/>
בבחירת אופציה זאת בתפריט, מוצגת למשתמש טבלה המכילה פרטים אודות כל היסטורית התורים שקבע. עבור כל תור יצויין - תאריך התור, שעת התור, מי הרופא או השיננית שמבצע את הטיפול, סוג הטיפול, לתורים עתידיים קיים גם כפתור לביטול התור.
בלחיצה על ביטול תור התור יבוטל והטבלה תתעדכן באופן מיידי.
<br/>
3.3 בחירה בהתנתקות מהמערכת:
<br/>
בבחירת אפשרות זאת, המשתמש ינותק מהמערכת ויעבור למסך ההתחברות שם יוצג לו תפריט מצומצם שכולל רק הרשמה למערכת או התחברות למערכת.


### העמודים באתר:
#### Log In
בהזמנת אימייל וסיסמה איתם נרשם לאתר, המשתמש יוכל להתחבר למערכת.
לאחר ההתחברות, המשתמש יועבר למסך קביעת תור חדש.
<br/>![img.png](static/media/readme_media/Login.png)
#### Sign up
מסך ההרשמה למערכת, על המשתמש להזין את הפרטים בשדות הטופס על מנת ליצור משתמש במערכת. כל השדות הוגדרו כחובה.
<br/>![img.png](static/media/readme_media/signup1.png)
<br/>![img.png](static/media/readme_media/signup.png)
#### Make An Appointment
בהזנת סוג הטיפול הרצוי ותאריך תוצג למשתמש טבלה המכילה תורים פנויים להרשמה וכפתור בחירה ליד כל תור המאפשר לו לקבוע את התור הרצוי בקלות.
<br/>![img.png](static/media/readme_media/makeanappointment.png)
<br/>![img.png](static/media/readme_media/makeanappointment_table.png)
#### My Appointments
מוצגת למשתמש טבלה המכילה את היסטורית התורים שקבע עם אפשרות לביטול עבור תורים עתידיים בלחיצה פשוטה על כפתור הביטול.
כשעומדים על כפתור הביטול הוא משנה צבעים על מנת להסוות את תשומת ליבו של המשתמש לפעולה שהוא עומד לבצע במידה וילחץ.
<br/>![img.png](static/media/readme_media/myappointments.png)
<br/>![img_1.png](static/media/readme_media/cancleBtn.png)

### מבנה תיקיות הפרויקט:
בפרויקט השתמשנו בשלד שהועלה למודל לחלק ג - Flask skeleton project
<br/>
#### components:
בתיקייה זו נמצאות 2 תיקיות - header, main_menu
<br/>
בתוך כל תיקייה יש קובץ פייתון ו2 תיקיות נוספות - static, templates
<br/>
#### pages:
תיקייה זו מכילה את כל העמודים של האתר וקובץ פייתון [pages.py](pages%2Fpages.py) - 
<br/>[logIn](pages%2FlogIn)
<br/>[makeAnAppointment](pages%2FmakeAnAppointment)
<br/>[myAppointments](pages%2FmyAppointments)
<br/>[registration](pages%2Fregistration)
<br/> בתוך כל תיקייה של עמוד באתר יש קובץ פיתון ו2 תיקיות - static, templates 
#### static:
בתיקיות אלו מאוכלסים קבצי CSS,JavaScript
<br/>
כל סוג קובץ בתיקיה נפרדת.
#### templates:
בתיקייה זו מאוכלסים קבצי html שהומרו לטמפלייטים
#### utilities:
תיקייה זו מכילה קובץ פייתון
<br/>[db_manager.py](utilities%2Fdb%2Fdb_manager.py)
<br/>
המכיל הגדרות הקשורות לבסיס הנתונים וקיבלנו אותה כחלק משלד הפרויקט של חלק ג.
#### other files:
תיקייה הפריקט מכילה גם קבצים נוספים כמו קובץ
<br/>[app.py](app.py) 
<br/>
.המריץ את השרת
<br/>וקובץ קישור לבסיס נתונים
<br/>
[db_connector.py](db_connector.py)
<br/>
-וקבצים נוספים
<br/>[README.md](README.md)
<br/>[requirements.txt](requirements.txt)
<br/>[settings.py](settings.py)
<br/>[.env](.env)



### טיפול בבקשות לקוח:
- הרשמה למערכת
- התחברות למערכת
- חיפוש תורים פנויים להרשמה לפי פרמטרים
- קביעת תור חדש
- הצגת היסטוריית התורים
- ביטול תור
- התנתקות מהמערכת

### חיבור לבסיס נתונים, שאילתות sql ומימוש טפסים:
#### הרשמה לאתר:
לאחר הזנת הפרטים בשדות המתאימים ולחיצה על שליחת הטופס לבקשת הרשמה למערכת, מתבצעת בדיקת וולידציה על השדות לצורך ויידוא תקינותם.
<br/>
במידה והפרטים לא תקינים, יקבל הודעות בהתאם ולא יוכל לשלוח את הטופס עד שיתקנם.
<br/>
במידה והפרטים שהזין תקינים, מתבצעת בדיקה מול בסיס הנתונים אם המשתמש כבר קיים במערכת.
<br/>
במידה והמשתמש קיים, תוצג למשתמש הודעה בהתאם והוא ישאר במסך ההרשמה ויוכל למלא אותו בפרטים אחרים או לעבור לעמוד ההתחברות בתפריט ולהיכנס למשתמש הקיים במערכת.
<br/>
אם כל הפרטים שהזין בשדות עברו את הוולידציה ואת הבדיקה מול בסיס הנתונים, אז תרוץ שאילתה ליצירת לקוח חדש בבסיס הנתונים.
<br/>
לאחר מכן יעבור למסך ההתחברות ויקבל הודעת אימות על הצלחת הרישום למערכת.

#### התחברות לאתר:
לאחר הזנת כל הפרטים בשדות המתאימים ולחיצה על שליחת הטופס לבקשת הרשמה למערכת, מתבצעת בדיקת וולידציה על השדות לצורך ויידוא תקינותם.
<br/>
במידה והפרטים לא תקינים לא יוכל לשלוח את הטופס ולהתחבר עד שיתקנם.
<br/>
במידה והפרטים שהזין תקינים, מתבצעת בדיקה מול בסיס הנתונים אם המשתמש קיים במערכת.
<br/>
במידה והמשתמש קיים הוא יתחבר למערכת ויועבר לדף קביעת תור חדש.
<br/>
במידה והמשתמש לא קיים במערכת תתבצע בדיקה של אימייל בלבד מול בסיס הנתונים- אם קיים תוצג למשתמש הודעה על סיסמה שגויה. אם לא קיים, תוצג למשתמש הודעה על אימייל שגוי.

#### חיפוש תורים פנויים להרשמה:
המשתמש בוחר מתוך רשימת גלילה את סוג הטיפול הרצוי, ותאריך (מאותו יום והלאה) ושולח את הטופס על ידי לחיצה על כפתור החיפוש.
<br/>
בשליחת הטופס מתבצעת בדיקה מול בסיס הנתונים.
<br/>
בבדיקה רצות שאילתות שמייצרות ללקוח רשימה של כל התורים הפנויים להרשמה בתאריך הנבחר, לפי שעות העבודה של המרפאה, ולפי סוג העובד הדרוש המותאם לטיפול.
<br/>
רשימת התורים מוצגת בתוך טבלה שלכל תור יש לחצן בחירה בתור.

#### הרשמה לתור חדש:
בלחיצה על כפתור הבחירה בתור, מתבצעת בדיקה מול בסיס הנתונים האם ללקוח יש תור באותו תאריך ושעה שהוא מנסה לקבוע לתור החדש.
<br/>
במידה ואין תור חופף בתאריך ובשעה שניסה לקבוע, התור יקבע ללקוח ופרטי התור יוכנסו לבסיס הנתונים.
<br/>
במידה והלקוח מנסה לקבוע תור שני לאותו תאריך ואותה שעה, הוא יועבר אוטומטית לדף היסטורית התורים שלו שם תוצג לו הודעה שמסבירה כי יש לו תור בזמנים האלו ומתחת להודעה יוצג אותו תור.
<br/>
המשתמש יכול לבטל את התור במידה וירצה לקבוע בכל זאת את התור החדש

#### הצגת היסטורית התורים:
לצורך הצגת היסטורית התורים, תתבצע בבסיס הנתונים שאילתה להוצאת כל התורים שאותו לקוח קבע ותוצאותיה יוצגו בטבלה

#### ביטול תור:
לאחר בחירה בביטול תור, תתבצע שאילתה למחיקת התור בבסיס הנתונים לפי הפרמטרים של התור הנבחר

### הקמת בסיס הנתונים:
1. Update your .env file (attached in Moodle):
<br/>![img.png](static/media/readme_media/db_env.png)

2. Upload the db_connector.py file to your project folder:
<br/>[db_connector.py](db_connector.py)
<br/>בקובץ זה הגדרנו קלאסטר, בסיס נתונים, קולקשיינים, ופונקציות הקשורות לבסיס הנתונים.

### html to templates:
כל עמודי ה html
<br/>
תורגמו ל template
<br/>
והוכנסו לתיקיות בהתאם.
